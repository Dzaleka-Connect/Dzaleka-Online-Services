---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Submit a Resource | Dzaleka Online Service">
  <main class="container mx-auto px-4 py-8">
    {/* Hero Section */}
    <div class="max-w-2xl mx-auto mb-12">
      <div class="text-center">
        <span class="inline-block px-4 py-1.5 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-4">
          Share Knowledge
        </span>
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
          Submit a Resource
        </h1>
        <p class="text-lg text-gray-600">
          Help us grow our collection by sharing valuable resources about Dzaleka Refugee Camp
        </p>
      </div>
    </div>

    {/* Form Section */}
    <div class="max-w-2xl mx-auto">
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
        <form 
          action="https://formspree.io/f/xqaaajae" 
          method="POST" 
          class="space-y-8"
          onsubmit="setTimeout(function() { window.location.href = '/resources/submit/thank-you'; }, 1000);"
        >
          {/* Title */}
          <div>
            <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
              Resource Title <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              name="title"
              id="title"
              required
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
              placeholder="Enter the title of your resource"
            />
          </div>

          {/* Description */}
          <div>
            <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
              Description <span class="text-red-500">*</span>
            </label>
            <textarea
              name="description"
              id="description"
              required
              rows="4"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
              placeholder="Provide a brief description of the resource"
            ></textarea>
          </div>

          {/* Category */}
          <div>
            <label for="category" class="block text-sm font-medium text-gray-700 mb-1">
              Category <span class="text-red-500">*</span>
            </label>
            <select
              name="category"
              id="category"
              required
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
            >
              <option value="">Select a category</option>
              <option value="Report">Report</option>
              <option value="Guide">Guide</option>
              <option value="News">News</option>
              <option value="Research">Research</option>
            </select>
          </div>

          {/* Resource Type Notice */}
          <div class="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
            <h3 class="text-sm font-medium text-blue-800 mb-2">Important Notice About PDF Documents</h3>
            <p class="text-sm text-blue-700">
              Please host your PDF documents on a reliable platform (like Google Drive, Dropbox, or similar) and provide the sharing link below. 
              Make sure to:
            </p>
            <ul class="mt-2 text-sm text-blue-700 list-disc list-inside space-y-1">
              <li>Set appropriate sharing permissions (public access)</li>
              <li>Use a stable, long-term hosting solution</li>
              <li>Verify the link works before submitting</li>
            </ul>
          </div>

          {/* Resource URL */}
          <div class="space-y-6">
            <div>
              <label for="resourceUrl" class="block text-sm font-medium text-gray-700 mb-1">
                Resource URL <span class="text-red-500">*</span>
              </label>
              <div class="mt-1 flex rounded-lg shadow-sm">
                <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                  </svg>
                </span>
                <input
                  type="url"
                  name="resourceUrl"
                  id="resourceUrl"
                  required
                  class="flex-1 px-4 py-2 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                  placeholder="https://drive.google.com/file/d/..."
                />
              </div>
              <p class="mt-1 text-sm text-gray-500">
                Provide a direct link to your resource. For PDF documents, please provide a link to where it's hosted (e.g., Google Drive, Dropbox)
              </p>
            </div>

            {/* File Size */}
            <div>
              <label for="fileSize" class="block text-sm font-medium text-gray-700 mb-1">
                File Size <span class="text-red-500">*</span>
              </label>
              <div class="mt-1 relative rounded-lg shadow-sm">
                <input
                  type="text"
                  name="fileSize"
                  id="fileSize"
                  class="block w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                  placeholder="e.g., 2.5"
                />
                <div class="absolute inset-y-0 right-0 flex items-center">
                  <label for="file-size-unit" class="sr-only">File size unit</label>
                  <select
                    id="file-size-unit"
                    name="file-size-unit"
                    class="h-full py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-lg"
                  >
                    <option>MB</option>
                    <option>KB</option>
                  </select>
                </div>
              </div>
              <p class="mt-1 text-sm text-gray-500">
                Enter the size of the file (required for PDF documents)
              </p>
            </div>
          </div>

          {/* Dates */}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="date" class="block text-sm font-medium text-gray-700 mb-1">
                Publication Date <span class="text-red-500">*</span>
              </label>
              <input
                type="date"
                name="date"
                id="date"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
              />
            </div>

            <div>
              <label for="lastUpdated" class="block text-sm font-medium text-gray-700 mb-1">
                Last Updated
              </label>
              <input
                type="date"
                name="lastUpdated"
                id="lastUpdated"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
              />
            </div>
          </div>

          {/* Featured Flag */}
          <div>
            <div class="flex items-center">
              <input
                type="checkbox"
                name="featured"
                id="featured"
                class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
              />
              <label for="featured" class="ml-2 text-sm text-gray-700">
                Feature this resource on the homepage
              </label>
            </div>
            <p class="mt-1 text-sm text-gray-500 ml-6">
              Featured resources will be highlighted and shown prominently
            </p>
          </div>

          {/* Additional Fields */}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="author" class="block text-sm font-medium text-gray-700 mb-1">
                Author/Organization
              </label>
              <input
                type="text"
                name="author"
                id="author"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Name of author or organization"
              />
            </div>

            <div>
              <label for="languages" class="block text-sm font-medium text-gray-700 mb-1">
                Available Languages
              </label>
              <div class="mt-2 space-y-2">
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    name="languages[]"
                    value="English"
                    id="lang-en"
                    class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
                  />
                  <label for="lang-en" class="ml-2 text-sm text-gray-700">English</label>
                </div>
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    name="languages[]"
                    value="French"
                    id="lang-fr"
                    class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
                  />
                  <label for="lang-fr" class="ml-2 text-sm text-gray-700">French</label>
                </div>
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    name="languages[]"
                    value="Swahili"
                    id="lang-sw"
                    class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
                  />
                  <label for="lang-sw" class="ml-2 text-sm text-gray-700">Swahili</label>
                </div>
              </div>
            </div>
          </div>

          {/* Submit Button */}
          <div class="pt-4">
            <button
              type="submit"
              class="w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
              </svg>
              Submit Resource
            </button>
          </div>
        </form>

        {/* Help Text */}
        <div class="mt-8 border-t border-gray-200 pt-6">
          <h3 class="text-sm font-medium text-gray-700 mb-2">Important Notes:</h3>
          <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
            <li>All submitted resources will be reviewed before being published</li>
            <li>Please ensure the resource is relevant to Dzaleka Refugee Camp</li>
            <li>Make sure you have the right to share this resource</li>
            <li>Large files should be hosted externally and linked</li>
          </ul>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script>
  // No script needed
</script>

<style>
  /* Custom focus styles */
  input:focus, select:focus, textarea:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--color-primary-500), 0.2);
  }
  
  /* Custom checkbox styles */
  input[type="checkbox"] {
    cursor: pointer;
  }
  
  /* Smooth transitions */
  input, select, textarea, button {
    transition: all 0.2s ease-in-out;
  }
</style>
