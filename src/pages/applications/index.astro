---
import MainLayout from '../../layouts/MainLayout.astro';
import ServiceCard from '../../components/applications/ServiceCard.astro';

const internalServices = [
  {
    title: "Legal Support & Advocacy",
    description: "Access legal representation and advocacy services for refugee rights and protection.",
    icon: "scale-balanced",
    services: [
      "Legal representation in court",
      "Documentation assistance",
      "Rights awareness and education",
      "Case advocacy"
    ],
    link: "/applications/internal/legal"
  },
  {
    title: "Emergency Relief",
    description: "Get assistance during emergencies including food, shelter, and basic necessities.",
    icon: "hand-holding-heart",
    services: [
      "Food assistance",
      "Emergency shelter",
      "Medical support",
      "Basic necessities"
    ],
    link: "/applications/internal/emergency"
  },
  {
    title: "Leadership Support",
    description: "Programs and resources for refugee community leaders and organizations.",
    icon: "users",
    services: [
      "Leadership training",
      "Community organizing",
      "Capacity building",
      "Network development"
    ],
    link: "/applications/internal/leadership"
  },
  {
    title: "Advocacy Campaigns",
    description: "Join or request support for advocacy campaigns and policy initiatives.",
    icon: "bullhorn",
    services: [
      "Policy advocacy",
      "Public awareness",
      "Campaign support",
      "Community mobilization"
    ],
    link: "/applications/internal/advocacy"
  }
];

const governmentPermits = [
  {
    title: "Temporary Residence Permit",
    description: "For temporary stay in Malawi. Required for refugees and asylum seekers.",
    icon: "id-card"
  },
  {
    title: "Business Permit",
    description: "Required for operating a business or commercial activity in Malawi.",
    icon: "store"
  },
  {
    title: "Employment Permit",
    description: "Required for taking up employment or working in Malawi.",
    icon: "briefcase"
  },
  {
    title: "Student Permit",
    description: "For international students pursuing education in Malawi institutions.",
    icon: "graduation-cap"
  },
  {
    title: "Permanent Residence",
    description: "For long-term residence in Malawi after meeting eligibility criteria.",
    icon: "home"
  },
  {
    title: "Diplomatic Permit",
    description: "For diplomats working at embassies and foreign missions in Malawi.",
    icon: "globe"
  }
];

const visaServices = [
  {
    title: "Student Visa",
    description: "Apply for a student visa to continue your education abroad.",
    icon: "graduation-cap",
    services: [
      "University enrollment support",
      "Visa application assistance",
      "Documentation guidance",
      "Interview preparation"
    ],
    link: "/applications/visa/student"
  },
  {
    title: "Work Visa",
    description: "Get assistance with work visa applications and employment opportunities.",
    icon: "briefcase",
    services: [
      "Job search support",
      "Visa sponsorship",
      "Skills assessment",
      "Employment verification"
    ],
    link: "/applications/visa/work"
  },
  {
    title: "Family Reunification",
    description: "Reunite with your family members through visa sponsorship.",
    icon: "people-roof",
    services: [
      "Family sponsorship",
      "Document preparation",
      "Application tracking",
      "Interview support"
    ],
    link: "/applications/visa/family"
  },
  {
    title: "Humanitarian Visa",
    description: "Apply for humanitarian visas and protection in other countries.",
    icon: "heart-pulse",
    services: [
      "Case assessment",
      "Application support",
      "Legal assistance",
      "Travel arrangements"
    ],
    link: "/applications/visa/humanitarian"
  }
];
---

<MainLayout title="Applications & Services">
  <!-- Hero Section -->
  <div class="relative bg-gradient-to-br from-primary-600 to-primary-800 text-white">
    <div class="absolute inset-0 bg-[url('/images/pattern.svg')] opacity-10"></div>
    <div class="absolute inset-0 bg-black/20"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 text-center">
      <h1 class="text-4xl font-bold mb-6">Applications & Services</h1>
      <p class="text-xl max-w-3xl mx-auto opacity-90">
        Access a range of services and support programs designed to assist refugees and asylum seekers. Choose from our internal support services or get help with official permit applications.
      </p>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    {/* Internal Applications Section */}
    <div class="py-20">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          Internal Support Services
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Access our range of internal support services designed to assist refugees and asylum seekers within the Dzaleka community.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {internalServices.map((service) => (
          <ServiceCard
            title={service.title}
            description={service.description}
            icon={service.icon}
            services={service.services}
            link={service.link}
          />
        ))}
      </div>
    </div>

    {/* Government Applications Section */}
    <div class="py-20 border-t border-gray-200">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          Government Permit Applications
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Official permit applications processed through the Malawi government e-Permit system.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {governmentPermits.map(permit => (
          <div class="bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-200 p-6">
            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                {permit.icon === 'id-card' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" />
                )}
                {permit.icon === 'store' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                )}
                {permit.icon === 'briefcase' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                )}
                {permit.icon === 'graduation-cap' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
                )}
                {permit.icon === 'home' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                )}
                {permit.icon === 'globe' && (
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                )}
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">{permit.title}</h3>
            <p class="text-gray-600 mb-4">
              {permit.description}
            </p>
            <a href="https://www.eregulations.gov.mw" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-primary-600 hover:text-primary-700">
              Apply on e-Permit
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </a>
          </div>
        ))}
      </div>

      <div class="mt-12 text-center">
        <p class="text-gray-600">
          All permit applications are processed through the official Malawi e-Permit system.
          <a href="https://www.eregulations.gov.mw" target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 ml-1">
            Visit e-Permit Portal
          </a>
        </p>
      </div>
    </div>

    {/* Visa Applications Section */}
    <div class="py-20 border-t border-gray-200">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          Visa Applications
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Apply for your Malawi visa through the official e-Visa portal.
        </p>
      </div>

      <div class="max-w-lg mx-auto">
        <div class="bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-200 p-8 text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center mb-6 mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" />
            </svg>
          </div>
          <h3 class="text-2xl font-semibold text-gray-900 mb-4">Apply for e-Visa</h3>
          <p class="text-gray-600 mb-6">
            Apply for your Malawi visa online through the e-Visa portal. Available for tourist, business, diplomatic, and other visa types. Processing time is typically 3 working days.
          </p>
          <div class="space-y-4">
            <a href="https://evisa.gov.mw" target="_blank" rel="noopener noreferrer" class="inline-flex w-full items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
              Apply on e-Visa Portal
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </a>
            <a href="https://www.immigration.gov.mw" target="_blank" rel="noopener noreferrer" class="inline-flex w-full items-center justify-center px-6 py-3 border border-primary-600 text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
              Visit Immigration Website
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </a>
          </div>
        </div>
      </div>

      <div class="mt-12 text-center">
        <p class="text-gray-600">
          For more information about visa requirements and procedures, visit the
          <a href="https://www.immigration.gov.mw" target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 ml-1">
            Department of Immigration website
          </a>
        </p>
      </div>
    </div>
  </div>
</MainLayout>